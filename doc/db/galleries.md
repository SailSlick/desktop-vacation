# Database for galleries

This is a database that stores the gallery file structure for users.

Contains
-------------
| Field | Description|
|-------|------------|
| _id | The unique document id generated by mongodb that acts as a primary key for this document. |
| name | The name of the gallery |
| uid | This is the unique id for the user that owns the gallery. |
| users | An array of usernames of all users authorised to view this gallery |
| tags | Descriptors of the gallery |
| subgallaries | A list of id references to the gallerydb. These  galleries are contained in the current gallery. |
| images | A list of id references to the imagedb. These images are organised in the current gallery. |

```
LokiJs uses a $loki field instead of the _id field and uses integers instead of
ObjectIds
```

Example Document
----------------
```js
{
  "_id": ObjectId("2g6c2b97bac0595474108b48"),
  "name": "testuser_all",
  "uid": ObjectId("542c2b97bac0595474108b48"),
  "users": [],
  "subgallaries": [
    ObjectId("hk4c2b97bac0595474108b48"),
    ObjectId("2g6c2b97bac0595474108b48")
  ],
  "images": [
    ObjectId("542c2b97bac0595474138b48"),
    ObjectId("800c2b97bac0595474108b48"),
    ObjectId("a42c2b97bac0595474138b48"),
    ObjectId("876c2b97bac0595474108b48"),
    ObjectId("276c2jghbac0595474108b48"),
    ObjectId("fg6c2jghbac0595474108b48")
  ]
},
{
  "_id": ObjectId("hk4c2b97bac0595474108b48"),
  "name": "phone",
  "uid": ObjectId("dfgh2b97bac0595474108b48"),
  "users": [],
  "subgallaries": [],
  "images": [
    ObjectId("276c2jghbac0595474108b48"),
    ObjectId("fg6c2jghbac0595474108b48")
  ],
  "metadata" : {"rating": 2, "tags": []}
},
{
  "_id": ObjectId("2g6c2b97bac0595474108b48"),
  "name": "favourites",
  "uid": ObjectId("fhkg2b97bac0595474108b48"),
  "users": [],
  "subgallaries": [],
  "images": [
    ObjectId("800c2b97bac0595474108b48"),
    ObjectId("a42c2b97bac0595474138b48"),
    ObjectId("876c2b97bac0595474108b48")
  ],
  "metadata" : {"rating": 3, "tags": ["winter", "chill"]}
}
```
