# Galleries Collection

Stores the gallery data for all users

## Document Structure

#### NOTE: Clientside Database

LokiJs uses a `$loki` field instead of the `_id` field and uses integers
instead of `ObjectId`s

| Field        | Type     | Description                                                      |
|--------------|----------|------------------------------------------------------------------|
| _id          | ObjectId | Unique ID generated by mongodb, primary key for this document    |
| uid          | ObjectId | Unique ID of the user that owns the gallery                      |
| remoteId     | String   | Unique ID of the image serverside (clientside only)              |
| name         | String   | Name of the gallery                                              |
| users        | Array    | Usernames (strings) of all users authorised to view this gallery |
| subgallaries | Array    | ObjectIds of galleries contained within this gallery             |
| images       | Array    | ObjectIds of images contained within this gallery                |
| metadata     | Object   | See below for structure                                          |

### Metadata Structure

| Field        | Type     | Description                                                      |
|--------------|----------|------------------------------------------------------------------|
| rating       | Integer  | Rating of the gallery, on a scale of 0-5                         |
| tags         | Array    | Tags (strings) applied to this gallery                           |

## Example Document

```js
{
  "_id": ObjectId("2g6c2b97bac0595474108b48"),
  "uid": ObjectId("542c2b97bac0595474108b48"),
  "name": "testuser_all",
  "users": ["m1cr0man", "sailslick", "devoxel"],
  "subgallaries": [
    ObjectId("hk4c2b97bac0595474108b48"),
    ObjectId("2g6c2b97bac0595474108b48")
  ],
  "images": [
    ObjectId("542c2b97bac0595474138b48"),
    ObjectId("800c2b97bac0595474108b48"),
    ObjectId("a42c2b97bac0595474138b48"),
    ObjectId("876c2b97bac0595474108b48"),
    ObjectId("276c2jghbac0595474108b48"),
    ObjectId("fg6c2jghbac0595474108b48")
  ],
  "metadata" : {"rating": 3, "tags": ["winter", "chill"]}
}
```
