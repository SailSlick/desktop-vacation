# Images Collection

Stores the filepath for images and image data unique to each user image.

## Document Structure

#### NOTE: Clientside Database

LokiJs uses a `$loki` field instead of the `_id` field and uses integers
instead of `ObjectId`s

| Field        | Srv/Cli | Type     | Description                                                      |
|--------------|---------|----------|------------------------------------------------------------------|
| _id          | Both    | ObjectId | Unique ID generated by mongodb, primary key for this document    |
| uid          | Both    | ObjectId | Unique ID of the user that owns the image                        |
| fid          | Server  | ObjectId | Unique ID of file in GridFS Filesystem collection                |
| remoteId     | Client  | String   | Unique ID of the image serverside                                |
| hash         | Both    | String   | Generated hash for this image, provided by client                |
| location     | Both    | String   | Path to the image on the client/server                           |
| url          | Client  | String   | Relative URL used when sharing the image                         |
| shared       | Server  | Boolean  | Whether or not the image is publically visible                   |
| metadata     | Both    | Object   | See below for structure                                          |

### Metadata Structure

| Field        | Type     | Description                                                      |
|--------------|----------|------------------------------------------------------------------|
| rating       | Integer  | Rating of the image, on a scale of 0-5                           |
| tags         | Array    | Tags (strings) applied to this image                             |

## Example Document (Clientside)

```js
{
  "_id" : ObjectId("542c2b97bac0595474108b48"),
  "uid" : ObjectId("5fgh2b97bac0595474108b48"),
  "remoteId" : ObjectId("5fgh2b97bac05954742b97ba"),
  "hash" : "34123187ndf9813fhq9348",
  "location" : "/home/here.png",
  "url" : "5fgh2b97bac05954742b97ba.png",
  "metadata" : {"rating": 3, "tags": ["winter", "chill"]}
}
```

## Example Document (Serverside)

```js
{
  "_id" : ObjectId("542c2b97bac0595474108b48"),
  "uid" : ObjectId("5fgh2b97bac0595474108b48"),
  "fid" : ObjectId("5fgh2b97bac059547fgh2b97"),
  "hash" : "34123187ndf9813fhq9348",
  "location" : "/somewhere/in/gridfs/here.png",
  "shared": false,
  "metadata" : {"rating": 3, "tags": ["winter", "chill"]}
}
```

